.. _release-v19-0-0:

Fall 2019 Release (v19_0_0)
===========================

+-------------------------------------------+------------+
| Source                                    | Identifier |
+===========================================+============+
| Git tag                                   | 19.0.0     |
+-------------------------------------------+------------+
| :doc:`EUPS distrib </install/newinstall>` | v19\_0\_0  |
+-------------------------------------------+------------+

- :ref:`release-v19-0-0-functionality`
- :ref:`release-v19-0-0-interface`
- :ref:`release-v19-0-0-pending-deprecations`
- :ref:`release-v19-0-0-deprecations`

*See also:*


- :doc:`Installation instructions <../install/index>`
- :doc:`Known issues </known-issues>`
- `Characterization Metric Report (DMTR-191) <https://ls.st/DMTR-191>`_
- `Doxygen Documentation <http://doxygen.lsst.codes/stack/doxygen/xlink_master_2019_11_16_09.13.30/>`__

These release notes highlight significant changes to the Science Pipelines codebase which are likely to be of wide interest.
In addition, a large number of minor upgrades and stability improvements have been made across the codebase; in particular, we expect Jointcal to be significantly more stable in this release.
For a complete list of changes made, see :ref:`release-v18-0-0-tickets`.

.. _release-v19-0-0-functionality:

Major Functionality Changes
---------------------------


.. _release-v19-0-0-interface:

Significant Interface Changes
-----------------------------


.. _release-v19-0-0-pending-deprecations:

Pending Deprecations
--------------------

These packages/functions will be deprecated in the next major release.

- :ref:`release-v19-0-0-deprecate-gen2`
- :ref:`release-v19-0-0-deprecate-makeDistortedTanWcs`

.. _release-v19-0-0-deprecate-gen2:

Upcoming removal of “Generation 2” Middleware
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The “Generation 3” middleware :ref:`included in the previous release <release-v17-0-gen3>` is ultimately intended to supplant the current (“Generation 2”) Data Butler and command-line task functionality.
We expect to deliver a final major release supporting the Generation 2 functionality in late calendar year 2019 (likely version 19.0.0, but that remains to be confirmed).
Following that release, the “Generation 2” middleware will be removed from the codebase.
This will include:

- The daf_persistence package, to be replaced by daf_butler;
- `lsst.pipe.base.CmdLineTask`, to be replaced by `lsst.pipe.base.PipelineTask`;
- The pipe_drivers and ctrl_pool packages, for which replacements are still in development.

.. _release-v19-0-0-deprecate-makeDistortedTanWcs:

Upcoming removal of makeDistortedTanWcs from `afw.geom.wcsUtils`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The function ``makeDistortedTanWcs`` will be removed after release 20.
Camera geometry-based SkyWcs are now set when reading raws.

.. _release-v19-0-0-deprecations:

Deprecations
------------

These packages/functions are deprecated and will not be available in the next major release.

- :ref:`release-v19-0-0-deprecate-lsstsim`
- :ref:`release-v19-0-0-deprecate-afwGeom`
- :ref:`release-v19-0-0-deprecate-PixelScaleBoundedField`
- :ref:`release-v19-0-0-deprecate-addDistortionModel`
- :ref:`release-v19-0-0-deprecate-_extractAmpId`
- :ref:`release-v19-0-0-deprecate-pex_policy`
- :ref:`release-v19-0-0-deprecate-astrometry_net_data`

.. _release-v19-0-0-deprecate-lsstSim:

Removal of the obs_lsstSim package
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The obs_lsst package, :ref:`included in the previous release <release-v17-0-obs-lsst>`, obviates the need for the obs_lsstSim package.
All LSST code is expected to transition to the new system later in summer 2019.
Some work will be required to update old data repositories to the new system.
After that, a final release will be made containing obs_lsstSim in late 2019, after which the package will be retired.

.. _release-v19-0-0-deprecate-afwGeom:

Removal of `lsst.afw.geom` classes that have been relocated to `lsst.geom`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

As announced in v16.0 (:ref:`release-v16-0-new-geom`) some primitives have been moved from `afw.geom` to `geom`.
We currently provide aliases for compatibility purposes, but new code should use the `geom` package.
These aliases will be removed after the version 19.0.0 will be released.

.. _release-v19-0-0-deprecate-PixelScaleBoundedField:

Removal of PixelScaleBoundedField from `lsst.afw.math`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The field ``PixelScaleBoundedField`` will be removed prior to release 20.
The field ``PixelAreaBoundedField`` shall be used instead.

.. _release-v19-0-0-deprecate-addDistortionModel:

Removal of addDistortionModel from `isrFunctions.py`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Function ``addDistortionModel`` will be removed from `isrFunctions.py`.
Camera geometry-based SkyWcs are now set when reading raws.

.. _release-v19-0-0-deprecate-_extractAmpId:

Removal of _extractAmpId from `cameraMapper.py` in `obs/base`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The method ``_extractAmpId`` is no longer used for ISR and should have been removed after v11.

.. _release-v19-0-0-deprecate-pex_policy:

Removal of `pex_policy`
^^^^^^^^^^^^^^^^^^^^^^^

The package pex_policy is deprecated, use makePropertySet instead.

.. _release-v19-0-0-deprecate-astrometry_net_data:

Removal of `astrometry_net_data`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The package ``astrometry_net_data`` is not used anymore and therefore will be removed from the distribution.
See `DM-22233 <https://jira.lsstcorp.org/browse/DM-22233>`_: Remove astrometry_net_data dependency from pipe_tasks.
